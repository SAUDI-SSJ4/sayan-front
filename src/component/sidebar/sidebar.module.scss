/* ============== GENERAL & SIDEBAR STYLES ============== */
.sideBar {
  display: flex;
  flex-direction: column;
  border-inline-end: 1px solid #edeff2;
  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.03);
  height: 100%;
  position: relative;
  overflow: auto hidden;
  transition: width 0.2s ease-out; // تبسيط الانتقال
  
  &::-webkit-scrollbar { width: 4px; }
  &::-webkit-scrollbar-thumb { background-color: rgba(0, 98, 255, 0.2); border-radius: 10px; }
  &::-webkit-scrollbar-track { background-color: transparent; }
  
  .body {
    position: relative;
    direction: rtl;
    color: #7e8799;
    padding: 24px 21px;
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2px;
  }
}

/* ============== HEADER SECTION ============== */
.sidebarHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 18px 20px;
  margin: 16px 15px 24px;
  border-radius: 16px;
  transition: background-color 0.2s ease, box-shadow 0.2s ease; // انتقالات محددة
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.03);
  
  &:hover {
    background: rgba(240, 245, 255, 0.9);
    box-shadow: 0 4px 12px rgba(0, 98, 255, 0.08);
  }

  .Profile {
    display: flex;
    gap: 15px;
    align-items: center;
    position: relative;
    cursor: pointer;

    img {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid transparent;
      transition: box-shadow 0.2s ease; // انتقال للظل فقط
      box-shadow: 0 3px 12px rgba(0, 98, 255, 0.15);
    }

    p {
      color: #2B3674;
      font: 600 17px/1 sans-serif;
      margin: 0;
      transition: color 0.2s ease; // انتقال للون فقط
      
      &:hover {
        color: #0062ff;
        // transform: translateX(-4px); // يمكن إزالته إذا أردت تبسيط أكثر
      }
    }
  }

  .showBtn {
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 15px;
    padding: 10px;
    border-radius: 12px;
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease; // انتقالات محددة
    color: #7e8799;
    
    &:hover {
      background-color: rgba(0, 98, 255, 0.1);
      color: #0062ff;
      // transform: scale(1.05); // يمكن إزالته
    }
    
    // &:active { transform: scale(0.95); } // يمكن إزالته
  }
}

/* ============== NAVIGATION LINKS ============== */
a {
  text-decoration: none;
  color: #7e8799;
  display: block;
  transition: color 0.2s ease; // انتقال للون فقط
  &:hover { color: #0062ff; }
}

.mainIcon, .subIcon {
  display: flex;
  align-items: center;
  padding: 12px 14px;
  border-radius: 12px;
  transition: background-color 0.2s ease; // انتقال للخلفية فقط
  position: relative;
  
  &:hover { background-color: rgba(0, 98, 255, 0.05); }
  
  div {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  span {
    font-weight: 600;
    color: #7e8799;
    transition: color 0.2s ease;
  }
  
  svg {
    // transition: color 0.2s ease, fill 0.2s ease; // لا حاجة لانتقال الأيقونة إذا كان اللون ثابتًا أو يتغير مع الأب
    color: #0062ff;
    path { fill: #0062ff; }
  }
}

.mainIcon {
  justify-content: space-between;
  margin-top: 8px;
  span { font-size: 16px; }
}

.activeLink .mainIcon {
  background-color: #0062ff;
  box-shadow: 0 4px 12px rgba(0, 98, 255, 0.3); // لا يحتاج انتقال هنا
  span { color: white !important; }
  svg path { fill: white !important; }
}

.subIcon {
  z-index: 2;
  gap: 12px;
  margin-right: 20px;
  border-radius: 8px;

  div {
    justify-content: center;
    width: 32px;
    height: 32px;
  }
  span { font: 500 14px/1 sans-serif; }
}

/* ============== ACTIVE STATE MARKERS & STATES ============== */
.marker { // هذا بالكامل يعتمد على الانتقال، إذا أردت إزالته، يجب حذف هذا الجزء بالكامل
  width: 100%;
  position: absolute;
  // transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); // تم الحذف
  z-index: 0;
  left: 0;
  display: flex;
  align-items: center;
  pointer-events: none;
  
  .line {
    background-color: #0062ff;
    border-radius: 4px;
    height: 35px;
    width: 5px;
    box-shadow: 0 0 8px rgba(0, 98, 255, 0.4);
  }
  
  .trapezoid {
    height: 45px;
    flex: 1;
    clip-path: polygon(100% 0, 100% 100%, 0 89%, 0 15%);
    background: linear-gradient(90deg, rgba(0, 98, 255, 0.15) 39%, transparent 95%);
  }
}

.activeSubLink {
  .subIcon {
    span { color: #0062ff !important; font-weight: 600; }
    div svg {
      color: #0062ff !important;
      filter: drop-shadow(0 0 1px rgba(0, 98, 255, 0.3));
      // transform: scale(1.1); // تم الحذف
    }
  }
}

/* ============== COLLAPSED STATE ============== */
.sidebarCollapsed { // تم تغيير اسم الكلاس
  .body { padding: 24px 12px; display: flex; align-items: center; flex-direction: column; }
  .sidebarHeader { padding: 12px; justify-content: center; }
  
  .Profile, .mainIcon span, .subIcon span {
    position: absolute;
    opacity: 0;
    // transition: opacity 0.4s ease, transform 0.4s ease; // تم الحذف أو التبسيط
    transition: opacity 0.2s ease-out; // انتقال أبسط للظهور والاختفاء
    // transform: translateX(20px); // يمكن إزالته إذا كان الاختفاء كافيًا
    pointer-events: none; // مهم لإخفاء العناصر تمامًا
    z-index: -1;
  }
  
  .mainIcon, .subIcon { justify-content: center; }
}

/* ============== NOTIFICATION BADGES & CHATBOT & LOGOUT ============== */
.cartIcon {
  position: relative;
  display: flex;
  align-items: center;
  gap: 12px;

  .badge {
    position: absolute;
    top: -8px;
    right: -8px;
    background-color: #0062ff;
    color: white;
    font: bold 11px/1 sans-serif;
    min-width: 20px;
    height: 20px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 6px;
    box-shadow: 0 2px 6px rgba(0, 98, 255, 0.4);
    // transition: transform 0.3s ease; // تم الحذف
    // animation: pulse 2s infinite; // تم حذف Pulse animation
    
    // &:hover { // لا حاجة للـ hover إذا لم يكن هناك تأثير
    //   transform: scale(1.1);
    //   // animation: none;
    // }
  }
}

.Bot {
  border-radius: 20px;
  background: linear-gradient(136deg, #22d2a7 24.6%, #23e766 103.34%);
  padding: 20px;
  display: flex;
  flex-direction: column;
  margin: 30px 15px 20px;
  box-shadow: 0 8px 24px rgba(34, 210, 167, 0.25);
  transition: box-shadow 0.2s ease, transform 0.2s ease; // إبقاء بعض الانتقالات البسيطة
  overflow: hidden;
  position: relative;
  
  &:hover { transform: translateY(-3px); box-shadow: 0 10px 26px rgba(34, 210, 167, 0.35); } // تأثير hover أخف
  
  &::before { /* ... كما هو ... */ }
  .Icon { /* ... كما هو ... */ }
  h2 { /* ... كما هو ... */ }
  
  span { // .promoButton
    border-radius: 16px;
    background: rgba(255, 255, 255, 0.2);
    color: white;
    padding: 12px 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    margin-top: 16px;
    font-weight: 500;
    transition: background-color 0.2s ease; // انتقال أبسط
    cursor: pointer;
    position: relative;
    overflow: hidden;
    z-index: 1;
    
    &:hover { background: rgba(255, 255, 255, 0.3); }
    // &:active { transform: translateY(0); } // يمكن إزالته
    
    // Ripple effect &::after and animation can be removed if not desired
    // &::after { ... } 
    // &:hover::after { animation: ripple 1s ease-out; }
  }
}

.logout {
  transition: background-color 0.2s ease, color 0.2s ease; // انتقالات محددة
  border-radius: 12px;
  padding: 12px 16px;
  margin: 10px 15px;
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  
  &:hover { background-color: rgba(230, 60, 60, 0.1); color: #e63c3c; }
  // &:active { transform: scale(0.98); } // يمكن إزالته
}

/* ============== UTILITIES & HELPERS ============== */
.btnSoon { /* ... كما هو، لا يعتمد على انيميشن ... */ }
.profileVisible { /* ... كما هو، يعتمد على انتقال بسيط ... */ }

/* ============== ANIMATIONS (REMOVED or KEPT MINIMAL) ============== */
// @keyframes pulse { ... } // تم الحذف
// @keyframes ripple { ... } // تم الحذف

/* ============== RESPONSIVE ADJUSTMENTS ============== */
@media (max-width: 992px) {
  .sideBar {
    /* ... كما هو، transition: transform 0.3s ease; ضروري لفتح/إغلاق القائمة الجانبية */
    width: 100%; position: fixed; top: 0; right: 0;
    z-index: 1000; transform: translateX(100%);
    transition: transform 0.3s ease-in-out; // أبقِ على هذا الانتقال
    &.open { transform: translateX(0); }
  }
  
  .sidebarCollapsed { // تم تغيير اسم الكلاس
    width: 70px !important;
    .sidebarHeader { padding: 10px; }
  }
}

@media (max-width: 576px) { /* ... كما هو ... */ }